"use strict";(self.webpackChunksoftwarity=self.webpackChunksoftwarity||[]).push([[5891],{6489:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>l});var r=i(5893),n=i(1151);const s={slug:"filter",title:"Define filters",authors:"fachache",tags:[]},o=void 0,a={id:"tuto/route/route-filter",title:"Define filters",description:"Be careful, this step should not be done if you have perfectly followed the previous steps.",source:"@site/docs/tuto/route/route-filter.md",sourceDirName:"tuto/route",slug:"/tuto/route/filter",permalink:"/tuto/route/filter",draft:!1,unlisted:!1,editUrl:"https://github.com/softwarity/website/tree/main/docs/tuto/route/route-filter.md",tags:[],version:"current",frontMatter:{slug:"filter",title:"Define filters",authors:"fachache",tags:[]},sidebar:"tutoSidebar",previous:{title:"Define the Predicate",permalink:"/tuto/route/route-predicate"},next:{title:"Save and activate",permalink:"/tuto/route/save-activate"}},d={},l=[{value:"Path prefix",id:"path-prefix",level:2},{value:"Strip prefix",id:"strip-prefix",level:2}];function c(e){const t={admonition:"admonition",code:"code",h2:"h2",img:"img",p:"p",pre:"pre",...(0,n.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.admonition,{type:"danger",children:(0,r.jsxs)(t.p,{children:["Be careful, this step should not be done if you have perfectly followed the previous steps.\nOnly in the case where you have defined a route predicate different from ",(0,r.jsx)(t.code,{children:"/**"}),"."]})}),"\n",(0,r.jsxs)(t.p,{children:["We have defined the route predicate as ",(0,r.jsx)(t.code,{children:"/**"}),"."]}),"\n",(0,r.jsx)(t.p,{children:"In our case, it is not necessary to define a request filter. You can skip this step."}),"\n",(0,r.jsx)(t.h2,{id:"path-prefix",children:"Path prefix"}),"\n",(0,r.jsxs)(t.p,{children:["However, if we had defined a route path different from ",(0,r.jsx)(t.code,{children:"/**"}),", it would be necessary to define a request filter."]}),"\n",(0,r.jsxs)(t.p,{children:["Imagine that we had defined the route path ",(0,r.jsx)(t.code,{children:"/httpbin/**"}),"."]}),"\n",(0,r.jsx)(t.p,{children:"This means that if I did:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"curl http://localhost:8080/httpbin/get\n"})}),"\n",(0,r.jsx)(t.p,{children:"I would expect it to respond in the same way as if I did:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"curl http://httpbin.org/get\n"})}),"\n",(0,r.jsx)(t.p,{children:"But in the current state, this is what would be executed."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"curl http://httpbin.org/httpbin/get\n"})}),"\n",(0,r.jsx)(t.p,{children:"This is not what we want."}),"\n",(0,r.jsx)(t.h2,{id:"strip-prefix",children:"Strip prefix"}),"\n",(0,r.jsx)(t.p,{children:"To fix this, we would need to add a request filter that will remove the prefix that allowed us to condition the route."}),"\n",(0,r.jsxs)(t.p,{children:["To do this, we would use the ",(0,r.jsx)(t.code,{children:"stripPrefix"})," filter with a value of 1 (removal of one element)."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"create-route-filter",src:i(859).Z+"",width:"1724",height:"1376"})})]})}function h(e={}){const{wrapper:t}={...(0,n.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},859:(e,t,i)=>{i.d(t,{Z:()=>r});const r=i.p+"assets/images/create-route-filter-0879ba8343e8dd12d1e347ffa6e933f9.png"},1151:(e,t,i)=>{i.d(t,{Z:()=>a,a:()=>o});var r=i(7294);const n={},s=r.createContext(n);function o(e){const t=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);