"use strict";(self.webpackChunksoftwarity=self.webpackChunksoftwarity||[]).push([[3955],{335:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>h});var s=n(5893),o=n(1151);const r=n.p+"assets/images/global-host-d7b43572bec317ea753c2f3ec51ebdab.png",a=n.p+"assets/images/user-host-408860305127973db06b948b990ec6d6.png",i={slug:"target-host",title:"Target host",authors:"fachache",tags:[]},c=void 0,l={id:"doc/target-host",title:"Target host",description:"This feature is only available for dev users.",source:"@site/docs/doc/target-host.md",sourceDirName:"doc",slug:"/doc/target-host",permalink:"/doc/target-host",draft:!1,unlisted:!1,editUrl:"https://github.com/softwarity/website/tree/main/docs/doc/target-host.md",tags:[],version:"current",frontMatter:{slug:"target-host",title:"Target host",authors:"fachache",tags:[]},sidebar:"docuSidebar",previous:{title:"Password policy",permalink:"/doc/password-policy"},next:{title:"Alternative target",permalink:"/doc/gateway/route/alternative-target"}},d={},h=[{value:"Use case",id:"use-case",level:2}];function p(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",ul:"ul",...(0,o.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.admonition,{type:"warning",children:(0,s.jsx)(t.p,{children:"This feature is only available for dev users."})}),"\n",(0,s.jsx)(t.h2,{id:"use-case",children:"Use case"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"ARCHWAY"})," is deployed in a cluster (swarm or k8s)."]}),"\n",(0,s.jsx)(t.p,{children:"Several services are deployed in the cluster, making up your application."}),"\n",(0,s.jsxs)(t.p,{children:["The application is available on the following URL : ",(0,s.jsx)(t.code,{children:"https://www.monapp.com"}),"."]}),"\n",(0,s.jsx)(t.p,{children:"Imagine now you want to work as developer on the UI (or any microservices) of the application."}),"\n",(0,s.jsxs)(t.p,{children:["The service that provide the UI is for exemple : ",(0,s.jsx)(t.code,{children:"app-frontend"}),"."]}),"\n",(0,s.jsx)(t.p,{children:"But you dont want to launch all the microservices on your local machine."}),"\n",(0,s.jsxs)(t.p,{children:["Problem, when access to ",(0,s.jsx)(t.code,{children:"https://www.monapp.com"}),", the API gateway redirect to the service ",(0,s.jsx)(t.code,{children:"app-frontend"})," in the cluster. Mean ",(0,s.jsx)(t.code,{children:"http://app-frontend:80"}),"."]}),"\n",(0,s.jsx)(t.p,{children:"But you want to provide the UI from your local machine."}),"\n",(0,s.jsxs)(t.p,{children:["When you launch the UI on your local machine the application ",(0,s.jsx)(t.code,{children:"app-frontend"})," listen on ",(0,s.jsx)(t.code,{children:"http://192.168.1.1:3000"})," for exemple."]}),"\n",(0,s.jsx)(t.p,{children:"If you launch the UI on your local machine, all the relatives urls cannot be resolved. Authentication and others features cannot work."}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"ARCHWAY"})," provides a feature for solve this issue."]}),"\n",(0,s.jsxs)(t.p,{children:["First you have to define a alternative target for the service ",(0,s.jsx)(t.code,{children:"app-frontend"})," see ",(0,s.jsx)(t.a,{href:"/doc/gateway/route/alternative-target",children:"Alternative Target"}),". Create an alternative target with ",(0,s.jsx)(t.a,{href:"http://localhost:3000",children:"http://localhost:3000"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["Of course localhost is not a good target. But ",(0,s.jsx)(t.code,{children:"ARCHWAY"})," will replace ",(0,s.jsx)(t.code,{children:"localhost"})," the IP/DNS defined in ",(0,s.jsx)(t.code,{children:"target-host"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"target-host"})," can be define in 2 places :"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Globaly in the gateway UI."}),"\n"]}),"\n","\n","\n",(0,s.jsx)("img",{src:r,alt:"Target Host",width:"500px"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"With user scope."}),"\n"]}),"\n",(0,s.jsxs)("div",{children:[(0,s.jsx)("img",{src:a,alt:"User Host",width:"250px",style:{float:"left",paddingRight:"50px"}}),(0,s.jsx)(t.p,{children:"Define the target for each user."})]}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsx)(t.p,{children:"Means developers can define different target for each them.\nMeans developers can work on differents versions of the microservice and use the same cluster.\nMeans developers can work on differents microservices and use the same cluster."})}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsx)(t.p,{children:"Of course you can launch the cluster as a private cluster (on your locale machine) and switch easily between internal microservices and external microservices."})})]})}function u(e={}){const{wrapper:t}={...(0,o.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},1151:(e,t,n)=>{n.d(t,{Z:()=>i,a:()=>a});var s=n(7294);const o={},r=s.createContext(o);function a(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);