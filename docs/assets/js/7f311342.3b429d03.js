"use strict";(self.webpackChunksoftwarity=self.webpackChunksoftwarity||[]).push([[4851],{808:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>a});var s=o(5893),r=o(1151);const c={slug:"start",title:"Premiers pas",authors:"fachache",tags:[]},i=void 0,t={id:"doc/start",title:"Premiers pas",description:"Installation",source:"@site/versioned_docs/version-1.0.1/doc/start.mdx",sourceDirName:"doc",slug:"/doc/start",permalink:"/1.0.1/doc/start",draft:!1,unlisted:!1,editUrl:"https://github.com/softwarity/website/tree/main/versioned_docs/version-1.0.1/doc/start.mdx",tags:[],version:"1.0.1",frontMatter:{slug:"start",title:"Premiers pas",authors:"fachache",tags:[]},sidebar:"docuSidebar",next:{title:"Fichiers",permalink:"/1.0.1/doc/conf/files"}},d={},a=[{value:"Installation",id:"installation",level:2},{value:"Fichier <code>docker-compose.yml</code>",id:"fichier-docker-composeyml",level:3},{value:"<code>docker-compose</code>",id:"docker-compose",level:3},{value:"<code>cluster</code> <code>Swarm</code>",id:"cluster-swarm",level:3},{value:"<code>cluster</code> <code>Kubernetes</code>",id:"cluster-kubernetes",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Par l&#39;interface",id:"par-linterface",level:3},{value:"Par fichiers json",id:"par-fichiers-json",level:3}];function l(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,r.a)(),...e.components},{Details:o}=n;return o||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,s.jsxs)(n.p,{children:["Installer ",(0,s.jsx)(n.code,{children:"ARCHWAY"})," est tr\xe9s facile, l'application ",(0,s.jsx)(n.code,{children:"ARCHWAY"})," n\xe9cessite 2 images ",(0,s.jsx)(n.code,{children:"docker"}),". L'image de ",(0,s.jsx)(n.code,{children:"ARCHWAY"})," et l'image de ",(0,s.jsx)(n.code,{children:"mongodb"}),"."]}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["Notez que la base de donn\xe9es ",(0,s.jsx)(n.code,{children:"mongodb"})," peut \xeatre clusteris\xe9e (dans swarm ou k8s), mais surtout peut \xeatre utilis\xe9e par vos microservices pour stocker vos documents."]})}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsxs)(n.p,{children:["En revanche il est d\xe9conseill\xe9 d'acc\xe9der et surtout de modifier les documents de ",(0,s.jsx)(n.code,{children:"ARCHWAY"})," via vos services internes. C'est ce que l'on appelle la gouvernance de la donn\xe9e."]})}),"\n",(0,s.jsxs)(n.p,{children:["La meilleur facon d'installer ",(0,s.jsx)(n.code,{children:"ARCHWAY"})," est de le d\xe9ployer au sein d'un cluster. Mais vous pouvez bien sur l'installer comme simple container ",(0,s.jsx)(n.code,{children:"docker"})," via ",(0,s.jsx)(n.code,{children:"docker-compose"}),"."]}),"\n",(0,s.jsxs)(n.h3,{id:"fichier-docker-composeyml",children:["Fichier ",(0,s.jsx)(n.code,{children:"docker-compose.yml"})]}),"\n",(0,s.jsxs)(o,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(n.code,{children:"docker-compose.yml"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yml",metastring:'title="docker-compose.yml"',children:"version: '3.8'\nservices:\n  archway:\n    image: ghcr.io/softwarity/archway-ce:latest\n    ports:\n      - 8080:8080 # non HTTPS\n    environment:\n      MONGODB_HOST: mongodb \n      MONGODB_DB_NAME: archway\n      MONGODB_USER: admin\n      MONGODB_PWD: changeit\n    networks:\n      - net\n\n  mongodb:\n    image: mongo # official image  \n    environment:\n      MONGO_INITDB_DATABASE: archway\n      MONGO_INITDB_ROOT_USERNAME: admin\n      MONGO_INITDB_ROOT_PASSWORD: changeit\n    volumes:\n      - mongodb_data:/data/db\n    networks:\n      - net\n\nvolumes:\n  mongodb_data:\n\nnetworks:\n  net:\n"})})]}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["Notez que le volume mongodb_data n'a pas de destination pr\xe9cis\xe9e et sera donc g\xe9r\xe9 par docker.\nVoir ",(0,s.jsx)(n.a,{href:"https://docs.docker.com/storage/volumes/",children:"volume"})," pour plus de d\xe9tails."]})}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["Notez qu'en absence de certificat, le HTTPs n'est pas actif par defaut.",(0,s.jsx)(n.br,{}),"\n",(0,s.jsxs)(n.a,{href:"conf/https",children:["Voir Activer le ",(0,s.jsx)(n.code,{children:"HTTPS"})]})]})}),"\n",(0,s.jsx)(n.h3,{id:"docker-compose",children:(0,s.jsx)(n.code,{children:"docker-compose"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker compose -f docker-compose.yml pull\ndocker compose -f docker-compose.yml up -d\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"cluster-swarm",children:[(0,s.jsx)(n.code,{children:"cluster"})," ",(0,s.jsx)(n.code,{children:"Swarm"})]}),"\n",(0,s.jsxs)(n.p,{children:["Dans cette exemple, nous allons lancer ",(0,s.jsx)(n.code,{children:"ARCHWAY"})," dans une stack ",(0,s.jsx)(n.code,{children:"myapp"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker stack deploy -c docker-compose.yml myapp\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"cluster-kubernetes",children:[(0,s.jsx)(n.code,{children:"cluster"})," ",(0,s.jsx)(n.code,{children:"Kubernetes"})]}),"\n",(0,s.jsxs)(n.p,{children:["Pour d\xe9ployer ",(0,s.jsx)(n.code,{children:"ARCHWAY"})," dans un cluster kube, il convient d'utiliser d'autre fichiers de d\xe9ploiement."]}),"\n",(0,s.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsx)(n.h3,{id:"par-linterface",children:"Par l'interface"}),"\n",(0,s.jsx)(n.h3,{id:"par-fichiers-json",children:"Par fichiers json"})]})}function h(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},1151:(e,n,o)=>{o.d(n,{Z:()=>t,a:()=>i});var s=o(7294);const r={},c=s.createContext(r);function i(e){const n=s.useContext(c);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);