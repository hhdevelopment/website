"use strict";(self.webpackChunksoftwarity=self.webpackChunksoftwarity||[]).push([[6677],{2766:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>a});var n=i(5893),s=i(1151);const r={slug:"test-route",title:"Tester la route",authors:"fachache",tags:[]},l=void 0,o={id:"tuto/route-test",title:"Tester la route",description:"Pour tester la route pr\xe9c\xe9d\xe9ment cr\xe9\xe9e nous allons utiliser curl.",source:"@site/docs/tuto/route-test.md",sourceDirName:"tuto",slug:"/tuto/test-route",permalink:"/tuto/test-route",draft:!1,unlisted:!1,editUrl:"https://github.com/softwarity/website/tree/main/docs/tuto/route-test.md",tags:[],version:"current",frontMatter:{slug:"test-route",title:"Tester la route",authors:"fachache",tags:[]}},c={},a=[{value:"R\xe9cup\xe9rer un jeton <code>JWT</code>",id:"r\xe9cup\xe9rer-un-jeton-jwt",level:2},{value:"S&#39;authentifier",id:"sauthentifier",level:3},{value:"R\xe9sultat",id:"r\xe9sultat",level:3},{value:"Tester la route",id:"tester-la-route",level:2},{value:"R\xe9sultat",id:"r\xe9sultat-1",level:3}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["Pour tester la route pr\xe9c\xe9d\xe9ment cr\xe9\xe9e nous allons utiliser ",(0,n.jsx)(t.code,{children:"curl"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["Comme nous avons d\xe9finit le besoin d'\xeatre authentifier pour acc\xe9der \xe0 la route, nous allons utiliser ",(0,n.jsx)(t.code,{children:"JWT"}),"."]}),"\n",(0,n.jsxs)(t.h2,{id:"r\xe9cup\xe9rer-un-jeton-jwt",children:["R\xe9cup\xe9rer un jeton ",(0,n.jsx)(t.code,{children:"JWT"})]}),"\n",(0,n.jsx)(t.admonition,{type:"warning",children:(0,n.jsx)(t.p,{children:"Attention le token JWT n'est valable que 15 minutes."})}),"\n",(0,n.jsx)(t.h3,{id:"sauthentifier",children:"S'authentifier"}),"\n",(0,n.jsxs)(t.p,{children:["Remplacer ",(0,n.jsx)(t.code,{children:"ADMIN"})," et ",(0,n.jsx)(t.code,{children:"ADMIN_PWD"})," par les valeurs que vous avez choisies."]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:'curl -D - -X POST https://127.0.0.1:8080/api/jwt/v1/auth -H "Content-Type: application/json" -d \'{"username": "ADMIN", "password": "ADMIN_PDW"}\'\n'})}),"\n",(0,n.jsx)(t.h3,{id:"r\xe9sultat",children:"R\xe9sultat"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'{\n  "token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJyb2xlcyI6WyJBUkNIV0FZX0FQUCIsIkFVRElUT1IiLCJEQkdBVEVfQVBQIiwiR0VORVJBTF9NTkciLCJHUk9VUFNfTU5HIiwiTE9DQUxFU19NTkciLCJNT05HT19BUFAiLCJNU0dfQlJPQURDQVNUIiwiUE9SVEFJTkVSX0FQUCIsIlBST0ZJTEVTX01ORyIsIlJBQkJJVE1RX0FQUCIsIlJPTEVTX01ORyIsIlJPVVRFU19NTkciLCJTV0FHR0VSX0FQUCIsIlNZU1RFTV9NTkciLCJVU0VSU19NTkciLCJWQVVMVF9NTkciXSwiZ3JvdXBzIjpbXSwic3ViIjoiYXJjaHdheSIsImlzcyI6ImFyY2h3YXkiLCJpYXQiOjE3MDU0NDE4MTIsIm5iZiI6MTcwNTQ0MTgxMiwiZXhwIjoxNzA1NDQyNzEyfQ.eUn4XS07xEmbz1YsbxO5flBWsFPUQhrzB47pFBO5-7veV_mE0153foJ-YjlTHEbI8E5HT9-UQ5GAmOhJyjPyql2XMDb3h2UteB4EY7kCtEhRamFnGS9ye9RzGq2-utESJIFnEsrQ3Bb0d80YqnXX73zTdX6zqfE2QP5E2l4LUlE5i4MDcioHWvokTL-FN8rDNDEj0YIG-ESq5Fx87ES5LATi2A9gqRgb4qd_eYsXza0rKCIug89QqGO8zxAT24SV2HLy_mk_-oCiXHjGwHLknJAdNTl-pUTQ0jh88iVSAjwz2LFRoXAdhbrhTO65UnFbmjI4h7l3Tc502Aun_TBvpQ",\n  "refresh":"eyJ0eXAiOiJSRUZSRVNIIiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiJhcmNod2F5IiwiaXNzIjoiYXJjaHdheSIsImlhdCI6MTcwNTQ0MTgxMiwibmJmIjoxNzA1NDQxODEyLCJleHAiOjE3MDU0NjM0MTJ9.hSUR5_EWREw9rCO1X7Ji0V03hdgNNOYe3Ytp8iY35KOxSAZdzO6M41L3nXjI0hNJp1N-MWCZNqK8FPdcLtlJk0lQWaFIepHbVsP-3LnetEh4YMTsD8oKTwOdQqITA3Is8kM8fxaX3BE2uzeo_OzgBOfqyqtfgT5Yc1WRLdLRNWMKYwmWpWShkn96sUbkalz-SNcEMn3Y1v-380xOKFxsdmL3E-GC21kAsm6Km1O9B0j-WC93hqrXxPQ5UIPNFTglUPiumYRXYWkZ7dMEDtjfqoaOsZFTB1SGt4x0ieaP0AIxlNUi_TePZ3aDPDGI2yaR1dNzO5656b2UivLe3AykYg"\n}\n'})}),"\n",(0,n.jsx)(t.h2,{id:"tester-la-route",children:"Tester la route"}),"\n",(0,n.jsxs)(t.p,{children:["Remplacer le token apr\xe9s ",(0,n.jsx)(t.code,{children:"Bearer"})," par le ",(0,n.jsx)(t.code,{children:"token"})," g\xe9n\xe9r\xe9 pr\xe9c\xe9dement."]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"curl -v -k -X GET http://127.0.0.1:8080/httpbin/get  -H 'Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJyb2xlcyI6WyJBUkNIV0FZX0FQUCIsIkFVRElUT1IiLCJEQkdBVEVfQVBQIiwiR0VORVJBTF9NTkciLCJHUk9VUFNfTU5HIiwiTE9DQUxFU19NTkciLCJNT05HT19BUFAiLCJNU0dfQlJPQURDQVNUIiwiUE9SVEFJTkVSX0FQUCIsIlBST0ZJTEVTX01ORyIsIlJBQkJJVE1RX0FQUCIsIlJPTEVTX01ORyIsIlJPVVRFU19NTkciLCJTV0FHR0VSX0FQUCIsIlNZU1RFTV9NTkciLCJVU0VSU19NTkciLCJWQVVMVF9NTkciXSwiZ3JvdXBzIjpbXSwic3ViIjoiYXJjaHdheSIsImlzcyI6ImFyY2h3YXkiLCJpYXQiOjE3MDU0NDE4MTIsIm5iZiI6MTcwNTQ0MTgxMiwiZXhwIjoxNzA1NDQyNzEyfQ.eUn4XS07xEmbz1YsbxO5flBWsFPUQhrzB47pFBO5-7veV_mE0153foJ-YjlTHEbI8E5HT9-UQ5GAmOhJyjPyql2XMDb3h2UteB4EY7kCtEhRamFnGS9ye9RzGq2-utESJIFnEsrQ3Bb0d80YqnXX73zTdX6zqfE2QP5E2l4LUlE5i4MDcioHWvokTL-FN8rDNDEj0YIG-ESq5Fx87ES5LATi2A9gqRgb4qd_eYsXza0rKCIug89QqGO8zxAT24SV2HLy_mk_-oCiXHjGwHLknJAdNTl-pUTQ0jh88iVSAjwz2LFRoXAdhbrhTO65UnFbmjI4h7l3Tc502Aun_TBvpQ'\n"})}),"\n",(0,n.jsx)(t.h3,{id:"r\xe9sultat-1",children:"R\xe9sultat"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'{\n  "args": {}, \n  "headers": {\n    "Accept": "*/*", \n    "Accept-Language": "en", \n    "Authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJyb2xlcyI6WyJBUkNIV0FZX0FQUCIsIkFVRElUT1IiLCJEQkdBVEVfQVBQIiwiR0VORVJBTF9NTkciLCJHUk9VUFNfTU5HIiwiTE9DQUxFU19NTkciLCJNT05HT19BUFAiLCJNU0dfQlJPQURDQVNUIiwiUE9SVEFJTkVSX0FQUCIsIlBST0ZJTEVTX01ORyIsIlJBQkJJVE1RX0FQUCIsIlJPTEVTX01ORyIsIlJPVVRFU19NTkciLCJTV0FHR0VSX0FQUCIsIlNZU1RFTV9NTkciLCJVU0VSU19NTkciLCJWQVVMVF9NTkciXSwiZ3JvdXBzIjpbXSwic3ViIjoiYXJjaHdheSIsImlzcyI6ImFyY2h3YXkiLCJpYXQiOjE3MDU0NDIwMDUsIm5iZiI6MTcwNTQ0MjAwNSwiZXhwIjoxNzA1NDQyMDY1fQ.G9kXjzxReHh_fVdICaG3ovJJ8P7zeRVtQDx6lm05hKlojgYLtm0q2sj6xWgrKt4_vJH-MlAnUwWi4QWrIVMP_ywK1fPXhlg5qTUxYRtgoHWXjHRTSrEGNPvpbKtPrLgBpr6vmbU9qmnUBwGBqtslkKMbQkUaX5nGHOZ6kqNOazk7hywN1TsVjymC7S1N9pTM-iwSTyPgif2K2Lyk2zME350kc-RgswNIBRDS4N7nzplxdydc9lOBZypD4F9kks0xecan52ydb6OeaEFjBb_vUhSPiphqNEcXdWfLLacIRX_eaq7srQLC4OIDXbBav5yGboCK46xtJux8cM6G_P_AMA", \n    "Content-Length": "0", \n    "Forwarded": "proto=http;host=\\"127.0.0.1:8282\\";for=\\"172.19.0.1:48070\\"", \n    "Host": "httpbin.org", \n    "User-Agent": "curl/7.88.1", \n    "X-Amzn-Trace-Id": "Root=1-65a6fad5-1f851ac67315e738232d6b15", \n    "X-Forwarded-Host": "127.0.0.1:8282", \n    "X-Forwarded-Prefix": "/httpbin"\n  }, \n  "origin": "172.19.0.1, 83.202.135.20", \n  "url": "/httpbin"\n}\n'})}),"\n",(0,n.jsx)(t.admonition,{type:"info",children:(0,n.jsxs)(t.p,{children:["Le ",(0,n.jsx)(t.code,{children:"token"})," pr\xe9sent dans le r\xe9sultat de ",(0,n.jsx)(t.code,{children:"httpbin"})," n'est pas le m\xeame que celui envoy\xe9."]})}),"\n",(0,n.jsx)(t.p,{children:"Celui ci est celui activ\xe9 par le filtre que nous avons positionn\xe9 pr\xe9c\xe9dement."}),"\n",(0,n.jsxs)(t.p,{children:["Vous pouvez copier ce ",(0,n.jsx)(t.code,{children:"token"})," et le d\xe9coder sur la page de ",(0,n.jsx)(t.a,{href:"https://jwt.io/#debugger-io",children:"jwt.io"})]})]})}function u(e={}){const{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},1151:(e,t,i)=>{i.d(t,{Z:()=>o,a:()=>l});var n=i(7294);const s={},r=n.createContext(s);function l(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);